{#
/**
 * @file
 * Block template for Image with Text block type.
 * Bridges Drupal content fields to the dcd:image-with-text SDC component.
 */
#}

{%
  set classes = [
    'block',
    'block-' ~ configuration.provider|clean_class,
    'block-' ~ plugin_id|clean_class,
  ]
%}

<div{{ attributes.addClass(classes) }}>
  {{ title_prefix }}
  {{ title_suffix }}
  {% embed 'dcd:image-with-text' with {
    title: content.field_title|render|striptags|trim,
    speaker_name: content.field_speaker_name|render|striptags|trim,
    designation: content.field_designation|render|striptags|trim,
    enable_cloud_bg: content.field_enable_cloud_bg_image|render|striptags|trim == '1',
  } %}
    {% block image %}
      {{ content.field_image }}
    {% endblock %}
    {% block body %}
      {{ content.body }}
    {% endblock %}
    {% block cta_link %}
      {{ content.field_cta_button_link }}
    {% endblock %}
  {% endembed %}
</div>
